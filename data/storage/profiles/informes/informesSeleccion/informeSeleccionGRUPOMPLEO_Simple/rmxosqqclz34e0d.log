{"type":"operationStart","subtype":"profile","data":{"_id":"IQmumt9pBIqo6Gnn","timestamp":"2025-08-08T14:14:05.108Z","state":"queued","mode":"standard","creationDate":"2025-08-08T14:14:05.110Z","modificationDate":"2025-08-08T14:14:05.110Z","shortid":"9qMSIvb","inheritedReadPermissions":[],"inheritedEditPermissions":[],"$entitySet":"profiles"},"doDiffs":false,"timestamp":1754662445109,"id":"d15iswv3gjvzy3c","previousOperationId":null,"operationId":"gf3qws12tldkwqi"}
{"type":"log","level":"info","message":"Render request 1 queued for execution and waiting for available worker","previousOperationId":"gf3qws12tldkwqi","timestamp":1754662445109,"id":"rrd2d3apgkdgjl4"}
{"type":"operationStart","subtype":"render","name":"informeSeleccionGRUPOMPLEO_Simple","previousOperationId":"gf3qws12tldkwqi","timestamp":1754662445153,"id":"7dkq5eo45wz1qzp","previousEventId":"d15iswv3gjvzy3c","operationId":"ojx3tl06tyjzt07"}
{"type":"log","timestamp":1754662445154,"level":"info","message":"Starting rendering request 1 (user: admin)","meta":{"rootId":"rmxosqqclz34e0d","id":"rmxosqqclz34e0d"},"id":"yr0z5yovn6bvnar","previousOperationId":"ojx3tl06tyjzt07"}
{"type":"log","timestamp":1754662445154,"level":"info","message":"Rendering template { name: informeSeleccionGRUPOMPLEO_Simple, recipe: chrome-pdf, engine: handlebars, preview: true }","meta":{"rootId":"rmxosqqclz34e0d","id":"rmxosqqclz34e0d"},"id":"e9llp52r63hrz3f","previousOperationId":"ojx3tl06tyjzt07"}
{"type":"log","timestamp":1754662445156,"level":"debug","message":"Data item not defined for this template.","meta":{"rootId":"rmxosqqclz34e0d","id":"rmxosqqclz34e0d"},"id":"c4txrqantvtl3bs","previousOperationId":"ojx3tl06tyjzt07"}
{"type":"log","timestamp":1754662445165,"level":"debug","message":"Base url not specified, skipping its injection.","meta":{"rootId":"rmxosqqclz34e0d","id":"rmxosqqclz34e0d"},"id":"2e0yirzs1oks0st","previousOperationId":"ojx3tl06tyjzt07"}
{"type":"operationStart","subtype":"engine","name":"handlebars","timestamp":1754662445166,"id":"vy9hcyl40xm0gt2","previousEventId":"7dkq5eo45wz1qzp","operationId":"qitfdknpzdf3jwh","previousOperationId":"ojx3tl06tyjzt07"}
{"type":"log","timestamp":1754662445166,"level":"debug","message":"Rendering engine handlebars","meta":{"rootId":"rmxosqqclz34e0d","id":"rmxosqqclz34e0d"},"id":"h7jpgyomuv7dpts","previousOperationId":"qitfdknpzdf3jwh"}
{"type":"log","timestamp":1754662445573,"level":"warn","message":"Error when processing render request 1\n(because) error when evaluating engine handlebars for template /informes/informesSeleccion/informeSeleccionGRUPOMPLEO_Simple\n(because) missing helper: \"or\"\n\n(sandbox.js line 13:18)\nError: Missing helper: \"or\"\n    at Object.<anonymous> (/app/node_modules/handlebars/dist/cjs/handlebars/helpers/helper-missing.js:19:13)\n    at Object.wrapper (/app/node_modules/handlebars/dist/cjs/handlebars/internal/wrapHelper.js:15:19)\n    at Object.main (eval at compile (/app/node_modules/@jsreport/jsreport-handlebars/lib/handlebarsEngine.js:35:30), <anonymous>:514:139)\n    at main (/app/node_modules/handlebars/dist/cjs/handlebars/runtime.js:208:32)\n    at ret (/app/node_modules/handlebars/dist/cjs/handlebars/runtime.js:212:12)\n    at Object.execute (/app/node_modules/@jsreport/jsreport-handlebars/lib/handlebarsEngine.js:80:14)\n    at Object.execute (/app/node_modules/@jsreport/jsreport-handlebars/lib/worker.js:27:43)\n    at executionFn (/app/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:273:42)\n    at sandbox.js:13:18\n    at async run (/app/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/createSandbox.js:137:16)\nwrapped by:\nError: Error when evaluating engine handlebars for template /informes/informesSeleccion/informeSeleccionGRUPOMPLEO_Simple\n(because) missing helper: \"or\"\n    at module.exports (/app/node_modules/@jsreport/jsreport-core/lib/shared/createError.js:10:13)\n    at WorkerReporter.createError (/app/node_modules/@jsreport/jsreport-core/lib/shared/reporter.js:53:12)\n    at executeEngine (/app/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:377:35)\n    at async engine.engine (/app/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:162:14)\n    at async invokeRender (/app/node_modules/@jsreport/jsreport-core/lib/worker/render/render.js:61:23)\n    at async WorkerReporter._render (/app/node_modules/@jsreport/jsreport-core/lib/worker/render/render.js:148:7)\n    at async /app/node_modules/@jsreport/jsreport-core/lib/worker/reporter.js:233:24\n    at async processAndResponse (/app/node_modules/@jsreport/advanced-workers/lib/workerHandler.js:42:17)","meta":{"rootId":"rmxosqqclz34e0d","id":"rmxosqqclz34e0d"},"id":"vd31p1i8xrielq7","previousOperationId":"qitfdknpzdf3jwh"}
{"type":"log","timestamp":1754662445574,"level":"warn","message":"Rendering request 1 finished with error in 466 ms","meta":{"rootId":"rmxosqqclz34e0d","id":"rmxosqqclz34e0d"},"id":"fey3ohfz4u5g4tx","previousOperationId":"qitfdknpzdf3jwh"}
{"type":"error","timestamp":1754662445576,"entity":{"shortid":"GMP_SIMPLE","name":"informeSeleccionGRUPOMPLEO_Simple","content":"{{!-- \n    GRUPOMPLEO - Template Simplificado de Informe de Candidatos\n    Estructura: Solo 3 archivos (config.json + content.handlebars + dataJson.json)\n    Layout: Horizontal (landscape) | Sistema grilla 8px | Paleta industrial\n--}}\n\n{{!-- HELPERS HANDLEBARS INTEGRADOS --}}\n<script>\n// Helpers para renderizado condicional\nfunction or() {\n    const args = Array.prototype.slice.call(arguments, 0, -1);\n    return args.some(arg => !!arg);\n}\n\nfunction hasContent(item) {\n    if (!item) return false;\n    if (Array.isArray(item)) return item.length > 0;\n    if (typeof item === 'string') return item.trim().length > 0;\n    return !!item;\n}\n\nfunction formatDate(dateString, format) {\n    if (!dateString) return 'N/D';\n    const date = new Date(dateString);\n    if (isNaN(date.getTime())) return 'N/D';\n    \n    switch (format) {\n        case 'year':\n            return date.getFullYear().toString();\n        default:\n            return date.toLocaleDateString('es-ES', { year: 'numeric', month: 'long', day: 'numeric' });\n    }\n}\n\nfunction splitParagraphs(text) {\n    if (!text || typeof text !== 'string') return [];\n    return text.split(/\\r?\\n\\r?\\n|\\.\\s+(?=[A-ZÁÉÍÓÚÑ])/)\n               .map(p => p.trim())\n               .filter(p => p.length > 0)\n               .map(p => !/[.!?]$/.test(p) ? p + '.' : p);\n}\n</script>\n\n<!DOCTYPE html>\n<html lang=\"es\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Informe GRUPOMPLEO - {{datosPersonales.nombreCompleto}}</title>\n    <style>\n        /* GRUPOMPLEO - CSS INTEGRADO | Sistema grilla 8px | Landscape */\n        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');\n        \n        * { margin: 0; padding: 0; box-sizing: border-box; }\n        \n        :root {\n            /* Espaciado base 8px */\n            --s1: 8px; --s2: 16px; --s3: 24px; --s4: 32px; --s6: 48px;\n            /* Colores industriales */\n            --primary: #1e293b; --secondary: #475569; --accent: #f59e0b; --success: #059669;\n            --gray-50: #f8fafc; --gray-100: #f1f5f9; --gray-200: #e2e8f0; --gray-500: #718096; --gray-600: #4a5568; --gray-700: #2d3748; --gray-800: #1a202c;\n            /* Tipografía */\n            --font: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;\n            --text-xs: 10px; --text-sm: 11px; --text-base: 12px; --text-md: 14px; --text-lg: 16px; --text-xl: 18px; --text-2xl: 24px;\n        }\n        \n        body {\n            font-family: var(--font); font-size: var(--text-sm); line-height: 1.4; \n            color: var(--gray-800); background: #fff; -webkit-font-smoothing: antialiased;\n        }\n        \n        .container { width: 100%; padding: var(--s2); }\n        \n        /* HEADER */\n        .header {\n            background: linear-gradient(135deg, var(--primary), var(--secondary));\n            color: white; padding: var(--s3); margin-bottom: var(--s4);\n            border-radius: 0 0 8px 8px; display: flex; justify-content: space-between; align-items: center;\n        }\n        .company-name { font-size: var(--text-2xl); font-weight: 700; margin-bottom: var(--s1); }\n        .company-subtitle { font-size: var(--text-base); opacity: 0.9; font-weight: 300; }\n        .candidate-name { font-size: var(--text-xl); font-weight: 600; margin-bottom: var(--s1); }\n        .score-badge { \n            background: rgba(255,255,255,0.2); padding: var(--s1) var(--s2); border-radius: 20px; \n            font-size: var(--text-xs); border: 1px solid rgba(255,255,255,0.3);\n        }\n        .score-value { font-weight: 700; font-size: var(--text-md); }\n        \n        /* GRILLA PRINCIPAL */\n        .main-grid { \n            display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--s2); \n            margin-bottom: var(--s6); \n        }\n        .span-2 { grid-column: span 2; }\n        .span-full { grid-column: 1 / -1; }\n        \n        /* MÓDULOS */\n        .module {\n            background: #fff; border-radius: 6px; border: 1px solid var(--gray-200);\n            box-shadow: 0 1px 3px rgba(0,0,0,0.1); page-break-inside: avoid; margin-bottom: var(--s2);\n        }\n        .module-header {\n            background: var(--gray-50); padding: var(--s2); border-bottom: 1px solid var(--gray-200);\n            border-radius: 6px 6px 0 0;\n        }\n        .module-title {\n            font-size: var(--text-md); font-weight: 600; color: var(--primary);\n            text-transform: uppercase; letter-spacing: 0.5px;\n        }\n        .module-content { padding: var(--s3); }\n        \n        /* INFORMACIÓN PERSONAL */\n        .info-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--s2); }\n        .info-item {\n            display: flex; align-items: flex-start; gap: var(--s2); padding: var(--s2);\n            background: var(--gray-50); border-radius: 6px; border-left: 3px solid var(--accent);\n        }\n        .info-item.span-2 { grid-column: span 2; }\n        .info-icon {\n            width: var(--s3); height: var(--s3); background: var(--accent); border-radius: 4px;\n            display: flex; align-items: center; justify-content: center; color: white; font-size: var(--text-xs);\n        }\n        .info-label {\n            font-size: var(--text-xs); font-weight: 500; color: var(--gray-600);\n            text-transform: uppercase; margin-bottom: 2px;\n        }\n        .info-value { font-size: var(--text-base); font-weight: 500; color: var(--gray-800); }\n        .info-secondary { font-size: var(--text-xs); color: var(--gray-500); margin-top: 2px; }\n        \n        /* EVALUACIÓN */\n        .text-content { line-height: 1.6; color: var(--gray-700); }\n        .text-content p { margin-bottom: var(--s2); }\n        .text-content p:last-child { margin-bottom: 0; }\n        \n        .eval-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--s2); margin-top: var(--s3); }\n        .eval-card {\n            background: var(--gray-50); border: 1px solid var(--gray-200); border-radius: 6px;\n            padding: var(--s3); page-break-inside: avoid;\n        }\n        .card-title {\n            font-size: var(--text-base); font-weight: 600; color: var(--primary);\n            margin-bottom: var(--s2); padding-bottom: var(--s1); border-bottom: 1px solid var(--gray-200);\n        }\n        .card-content { line-height: 1.5; color: var(--gray-700); }\n        .card-content p { margin-bottom: var(--s2); }\n        .card-content p:last-child { margin-bottom: 0; }\n        \n        /* COMPETENCIAS */\n        .comp-item {\n            background: var(--gray-50); border: 1px solid var(--gray-200); border-radius: 6px;\n            padding: var(--s3); margin-bottom: var(--s2); page-break-inside: avoid;\n        }\n        .comp-item:last-child { margin-bottom: 0; }\n        .comp-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--s2); }\n        .comp-name { font-size: var(--text-base); font-weight: 600; color: var(--primary); }\n        .comp-score {\n            background: var(--primary); color: white; padding: 4px var(--s2); border-radius: 20px;\n            font-size: var(--text-xs); font-weight: 600;\n        }\n        .comp-obs { line-height: 1.5; color: var(--gray-700); font-size: var(--text-sm); }\n        .comp-obs p { margin-bottom: var(--s1); }\n        .comp-obs p:last-child { margin-bottom: 0; }\n        \n        /* HABILIDADES */\n        .skills-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: var(--s2); }\n        .skill-item {\n            display: flex; justify-content: space-between; align-items: center;\n            background: var(--gray-50); border: 1px solid var(--gray-200); border-radius: 6px; padding: var(--s2);\n        }\n        .skill-name { font-weight: 500; color: var(--gray-800); }\n        .skill-level {\n            font-size: var(--text-xs); background: var(--gray-200); padding: 2px var(--s1);\n            border-radius: 12px; font-weight: 500; color: var(--gray-600);\n        }\n        \n        .acred-list { display: flex; flex-direction: column; gap: var(--s1); }\n        .acred-item {\n            display: flex; justify-content: space-between; align-items: center;\n            background: var(--gray-50); border: 1px solid var(--gray-200); border-radius: 6px; padding: var(--s2);\n        }\n        .acred-name { font-weight: 500; color: var(--gray-800); }\n        .acred-hours {\n            font-size: var(--text-xs); background: var(--accent); color: white;\n            padding: 2px var(--s1); border-radius: 12px; font-weight: 500;\n        }\n        \n        /* TABLAS */\n        .table-wrap { overflow-x: auto; border-radius: 6px; border: 1px solid var(--gray-200); }\n        .data-table { width: 100%; border-collapse: collapse; font-size: var(--text-sm); }\n        .data-table thead { background: var(--gray-100); }\n        .data-table th {\n            padding: var(--s2); font-weight: 600; color: var(--gray-700); text-align: left;\n            border-bottom: 1px solid var(--gray-200); font-size: var(--text-xs);\n            text-transform: uppercase; letter-spacing: 0.5px;\n        }\n        .data-table td { padding: var(--s2); border-bottom: 1px solid var(--gray-100); vertical-align: top; }\n        .data-table tbody tr:hover { background: var(--gray-50); }\n        .data-table tbody tr:last-child td { border-bottom: none; }\n        \n        .col-dates { width: 12%; white-space: nowrap; }\n        .col-company { width: 25%; }\n        .col-position { width: 25%; }\n        .col-functions { width: 38%; }\n        \n        .date-range { font-size: var(--text-xs); color: var(--gray-600); font-weight: 500; }\n        .company-name-table { font-weight: 600; color: var(--primary); }\n        .position-name { font-weight: 500; color: var(--gray-700); }\n        .functions-text { line-height: 1.4; color: var(--gray-700); }\n        \n        /* REFERENCIAS */\n        .ref-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--s2); }\n        .ref-card {\n            background: var(--gray-50); border: 1px solid var(--gray-200); border-radius: 6px;\n            padding: var(--s3); border-left: 4px solid var(--accent);\n        }\n        .ref-company { font-size: var(--text-base); font-weight: 600; color: var(--primary); margin-bottom: var(--s1); }\n        .ref-contact { font-size: var(--text-sm); color: var(--gray-700); margin-bottom: var(--s1); }\n        .ref-function { font-size: var(--text-xs); color: var(--gray-600); }\n        \n        /* FOOTER */\n        .footer {\n            background: var(--gray-100); border-top: 1px solid var(--gray-200); padding: var(--s2);\n            margin: var(--s6) calc(-1 * var(--s2)) calc(-1 * var(--s2)) calc(-1 * var(--s2));\n        }\n        .footer-content {\n            display: flex; justify-content: space-between; align-items: center;\n            font-size: var(--text-xs); color: var(--gray-600);\n        }\n        .footer-company { font-weight: 600; color: var(--primary); }\n        .footer-confidential {\n            background: #dc2626; color: white; padding: 2px var(--s1); border-radius: 12px; font-weight: 500;\n        }\n        \n        /* PRINT */\n        @media print {\n            body { -webkit-print-color-adjust: exact; font-size: var(--text-xs); }\n            .module { page-break-inside: avoid; margin-bottom: var(--s2); }\n            .eval-card, .comp-item, .ref-card { page-break-inside: avoid; }\n            .data-table tr { page-break-inside: avoid; }\n        }\n        \n        /* RESPONSIVE */\n        @media (max-width: 1200px) {\n            .main-grid { grid-template-columns: repeat(3, 1fr); }\n        }\n        @media (max-width: 900px) {\n            .main-grid { grid-template-columns: repeat(2, 1fr); }\n            .eval-grid, .ref-grid { grid-template-columns: 1fr; }\n            .skills-grid { grid-template-columns: repeat(2, 1fr); }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        \n        <!-- HEADER PRINCIPAL -->\n        <div class=\"header\">\n            <div>\n                <div class=\"company-name\">GRUPOMPLEO</div>\n                <div class=\"company-subtitle\">Recursos Humanos • Sector Industrial</div>\n            </div>\n            <div style=\"text-align: right;\">\n                <div class=\"candidate-name\">{{datosPersonales.nombreCompleto}}</div>\n                {{#if informe.puntuacion}}\n                <div class=\"score-badge\">\n                    <span class=\"score-value\">{{informe.puntuacion}}</span>/3 Puntuación\n                </div>\n                {{/if}}\n            </div>\n        </div>\n\n        <!-- GRILLA PRINCIPAL -->\n        <div class=\"main-grid\">\n            \n            <!-- INFORMACIÓN PERSONAL -->\n            {{#if (or datosPersonales.email datosPersonales.telefonoMovil datosPersonales.direccionTexto)}}\n            <div class=\"module\">\n                <div class=\"module-header\">\n                    <div class=\"module-title\">Información Personal</div>\n                </div>\n                <div class=\"module-content\">\n                    <div class=\"info-grid\">\n                        {{#if datosPersonales.email}}\n                        <div class=\"info-item\">\n                            <div class=\"info-icon\">📧</div>\n                            <div>\n                                <div class=\"info-label\">Email</div>\n                                <div class=\"info-value\">{{datosPersonales.email}}</div>\n                            </div>\n                        </div>\n                        {{/if}}\n                        \n                        {{#if datosPersonales.telefonoMovil}}\n                        <div class=\"info-item\">\n                            <div class=\"info-icon\">📱</div>\n                            <div>\n                                <div class=\"info-label\">Teléfono</div>\n                                <div class=\"info-value\">{{datosPersonales.telefonoMovil}}</div>\n                            </div>\n                        </div>\n                        {{/if}}\n                        \n                        {{#if datosPersonales.direccionTexto}}\n                        <div class=\"info-item span-2\">\n                            <div class=\"info-icon\">📍</div>\n                            <div>\n                                <div class=\"info-label\">Dirección</div>\n                                <div class=\"info-value\">{{datosPersonales.direccionTexto}}</div>\n                                {{#if datosPersonales.municipio}}\n                                <div class=\"info-secondary\">{{datosPersonales.municipio}}, {{datosPersonales.pais}}</div>\n                                {{/if}}\n                            </div>\n                        </div>\n                        {{/if}}\n                        \n                        {{#if datosPersonales.nif}}\n                        <div class=\"info-item\">\n                            <div class=\"info-icon\">🆔</div>\n                            <div>\n                                <div class=\"info-label\">NIF</div>\n                                <div class=\"info-value\">{{datosPersonales.nif}}</div>\n                            </div>\n                        </div>\n                        {{/if}}\n                        \n                        {{#if datosPersonales.edad}}\n                        <div class=\"info-item\">\n                            <div class=\"info-icon\">📅</div>\n                            <div>\n                                <div class=\"info-label\">Edad</div>\n                                <div class=\"info-value\">{{datosPersonales.edad}} años</div>\n                            </div>\n                        </div>\n                        {{/if}}\n                    </div>\n                </div>\n            </div>\n            {{/if}}\n\n            <!-- EVALUACIÓN PROFESIONAL -->\n            {{#if (or informe.valoracion informe.aspectosPersonales informe.entrevistaPersonal)}}\n            <div class=\"module span-2\">\n                <div class=\"module-header\">\n                    <div class=\"module-title\">Evaluación Profesional</div>\n                </div>\n                <div class=\"module-content\">\n                    {{#if informe.valoracion}}\n                    <div style=\"margin-bottom: 24px;\">\n                        <h3 style=\"font-size: 12px; font-weight: 600; color: #2d3748; margin-bottom: 16px; padding-bottom: 8px; border-bottom: 2px solid #e2e8f0;\">Valoración General</h3>\n                        <div class=\"text-content\">\n                            {{#each (splitParagraphs informe.valoracion)}}\n                            <p>{{this}}</p>\n                            {{/each}}\n                        </div>\n                    </div>\n                    {{/if}}\n                    \n                    <div class=\"eval-grid\">\n                        {{#if informe.aspectosPersonales}}\n                        <div class=\"eval-card\">\n                            <div class=\"card-title\">Aspectos Personales</div>\n                            <div class=\"card-content\">\n                                {{#each (splitParagraphs informe.aspectosPersonales)}}\n                                <p>{{this}}</p>\n                                {{/each}}\n                            </div>\n                        </div>\n                        {{/if}}\n                        \n                        {{#if informe.entrevistaPersonal}}\n                        <div class=\"eval-card\">\n                            <div class=\"card-title\">Entrevista Personal</div>\n                            <div class=\"card-content\">\n                                {{#each (splitParagraphs informe.entrevistaPersonal)}}\n                                <p>{{this}}</p>\n                                {{/each}}\n                            </div>\n                        </div>\n                        {{/if}}\n                        \n                        {{#if informe.trayectoriaFormativa}}\n                        <div class=\"eval-card\">\n                            <div class=\"card-title\">Trayectoria Formativa</div>\n                            <div class=\"card-content\">\n                                {{#each (splitParagraphs informe.trayectoriaFormativa)}}\n                                <p>{{this}}</p>\n                                {{/each}}\n                            </div>\n                        </div>\n                        {{/if}}\n                        \n                        {{#if informe.trayectoriaProfesional}}\n                        <div class=\"eval-card\">\n                            <div class=\"card-title\">Trayectoria Profesional</div>\n                            <div class=\"card-content\">\n                                {{#each (splitParagraphs informe.trayectoriaProfesional)}}\n                                <p>{{this}}</p>\n                                {{/each}}\n                            </div>\n                        </div>\n                        {{/if}}\n                        \n                        {{#if informe.datosInteres}}\n                        <div class=\"eval-card\">\n                            <div class=\"card-title\">Datos de Interés</div>\n                            <div class=\"card-content\">\n                                {{#each (splitParagraphs informe.datosInteres)}}\n                                <p>{{this}}</p>\n                                {{/each}}\n                            </div>\n                        </div>\n                        {{/if}}\n                        \n                        {{#if informe.motivoPresentacion}}\n                        <div class=\"eval-card\">\n                            <div class=\"card-title\">Motivo de Presentación</div>\n                            <div class=\"card-content\">\n                                {{#each (splitParagraphs informe.motivoPresentacion)}}\n                                <p>{{this}}</p>\n                                {{/each}}\n                            </div>\n                        </div>\n                        {{/if}}\n                    </div>\n                </div>\n            </div>\n            {{/if}}\n\n            <!-- COMPETENCIAS -->\n            {{#if competencias}}\n            <div class=\"module\">\n                <div class=\"module-header\">\n                    <div class=\"module-title\">Competencias</div>\n                </div>\n                <div class=\"module-content\">\n                    {{#each competencias}}\n                    <div class=\"comp-item\">\n                        <div class=\"comp-header\">\n                            <div class=\"comp-name\">{{competencia}}</div>\n                            <div class=\"comp-score\">{{puntuacion}}/5</div>\n                        </div>\n                        {{#if observaciones}}\n                        <div class=\"comp-obs\">\n                            {{#each (splitParagraphs observaciones)}}\n                            <p>{{this}}</p>\n                            {{/each}}\n                        </div>\n                        {{/if}}\n                    </div>\n                    {{/each}}\n                </div>\n            </div>\n            {{/if}}\n\n            <!-- HABILIDADES TÉCNICAS -->\n            {{#if (or idiomas aplicacionesInformaticas acreditaciones)}}\n            <div class=\"module\">\n                <div class=\"module-header\">\n                    <div class=\"module-title\">Habilidades Técnicas</div>\n                </div>\n                <div class=\"module-content\">\n                    {{#if idiomas}}\n                    <div style=\"margin-bottom: 24px;\">\n                        <h3 style=\"font-size: 12px; font-weight: 600; color: #2d3748; margin-bottom: 16px; padding-bottom: 8px; border-bottom: 2px solid #e2e8f0;\">Idiomas</h3>\n                        <div class=\"skills-grid\">\n                            {{#each idiomas}}\n                            <div class=\"skill-item\">\n                                <span class=\"skill-name\">{{idioma}}</span>\n                                <span class=\"skill-level\">{{nivel}}</span>\n                            </div>\n                            {{/each}}\n                        </div>\n                    </div>\n                    {{/if}}\n                    \n                    {{#if aplicacionesInformaticas}}\n                    <div style=\"margin-bottom: 24px;\">\n                        <h3 style=\"font-size: 12px; font-weight: 600; color: #2d3748; margin-bottom: 16px; padding-bottom: 8px; border-bottom: 2px solid #e2e8f0;\">Aplicaciones Informáticas</h3>\n                        <div class=\"skills-grid\">\n                            {{#each aplicacionesInformaticas}}\n                            <div class=\"skill-item\">\n                                <span class=\"skill-name\">{{aplicacion}}</span>\n                                <span class=\"skill-level\">{{nivel}}</span>\n                            </div>\n                            {{/each}}\n                        </div>\n                    </div>\n                    {{/if}}\n                    \n                    {{#if acreditaciones}}\n                    <div>\n                        <h3 style=\"font-size: 12px; font-weight: 600; color: #2d3748; margin-bottom: 16px; padding-bottom: 8px; border-bottom: 2px solid #e2e8f0;\">Acreditaciones</h3>\n                        <div class=\"acred-list\">\n                            {{#each acreditaciones}}\n                            <div class=\"acred-item\">\n                                <div class=\"acred-name\">{{descripcion}}</div>\n                                {{#if horas}}\n                                <div class=\"acred-hours\">{{horas}}h</div>\n                                {{/if}}\n                            </div>\n                            {{/each}}\n                        </div>\n                    </div>\n                    {{/if}}\n                </div>\n            </div>\n            {{/if}}\n\n            <!-- EXPERIENCIA LABORAL -->\n            {{#if experienciasLaborales}}\n            <div class=\"module span-full\">\n                <div class=\"module-header\">\n                    <div class=\"module-title\">Experiencia Laboral</div>\n                </div>\n                <div class=\"module-content\">\n                    <div class=\"table-wrap\">\n                        <table class=\"data-table\">\n                            <thead>\n                                <tr>\n                                    <th class=\"col-dates\">Periodo</th>\n                                    <th class=\"col-company\">Empresa</th>\n                                    <th class=\"col-position\">Puesto</th>\n                                    <th class=\"col-functions\">Funciones Realizadas</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {{#each experienciasLaborales}}\n                                <tr>\n                                    <td class=\"date-range\">\n                                        {{#if fechaInicio}}\n                                        {{formatDate fechaInicio 'year'}}\n                                        {{#if fechaFin}}\n                                        - {{formatDate fechaFin 'year'}}\n                                        {{else}}\n                                        - Actual\n                                        {{/if}}\n                                        {{else}}\n                                        N/D\n                                        {{/if}}\n                                    </td>\n                                    <td class=\"company-name-table\">{{empresa}}</td>\n                                    <td class=\"position-name\">{{puesto}}</td>\n                                    <td class=\"functions-text\">{{funcionRealizada}}</td>\n                                </tr>\n                                {{/each}}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n            {{/if}}\n\n            <!-- FORMACIÓN ACADÉMICA -->\n            {{#if formaciones}}\n            <div class=\"module span-full\">\n                <div class=\"module-header\">\n                    <div class=\"module-title\">Formación Académica</div>\n                </div>\n                <div class=\"module-content\">\n                    <div class=\"table-wrap\">\n                        <table class=\"data-table\">\n                            <thead>\n                                <tr>\n                                    <th style=\"width: 12%;\">Año</th>\n                                    <th style=\"width: 35%;\">Titulación</th>\n                                    <th style=\"width: 28%;\">Centro</th>\n                                    <th style=\"width: 25%;\">Nivel Académico</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {{#each formaciones}}\n                                <tr>\n                                    <td class=\"date-range\">\n                                        {{#if fechaFin}}\n                                        {{formatDate fechaFin 'year'}}\n                                        {{else}}\n                                        N/D\n                                        {{/if}}\n                                    </td>\n                                    <td class=\"company-name-table\">\n                                        {{#if nombre}}\n                                        {{nombre}}\n                                        {{else}}\n                                        {{titulacionAcademica}}\n                                        {{/if}}\n                                    </td>\n                                    <td style=\"color: #4a5568;\">{{centro}}</td>\n                                    <td style=\"font-size: 10px; color: #718096; line-height: 1.3;\">{{titulacionAcademica}}</td>\n                                </tr>\n                                {{/each}}\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n            {{/if}}\n\n            <!-- REFERENCIAS PROFESIONALES -->\n            {{#if referencias}}\n            <div class=\"module span-2\">\n                <div class=\"module-header\">\n                    <div class=\"module-title\">Referencias Profesionales</div>\n                </div>\n                <div class=\"module-content\">\n                    <div class=\"ref-grid\">\n                        {{#each referencias}}\n                        <div class=\"ref-card\">\n                            <div class=\"ref-company\">{{empresa}}</div>\n                            <div class=\"ref-contact\">{{referencia}}</div>\n                            {{#if funcionRealizada}}\n                            <div class=\"ref-function\">{{funcionRealizada}}</div>\n                            {{/if}}\n                        </div>\n                        {{/each}}\n                    </div>\n                </div>\n            </div>\n            {{/if}}\n\n        </div>\n\n        <!-- FOOTER -->\n        <div class=\"footer\">\n            <div class=\"footer-content\">\n                <div>\n                    <span class=\"footer-company\">GRUPOMPLEO</span>\n                    <span style=\"margin: 0 8px; opacity: 0.5;\">•</span>\n                    <span>Informe de Evaluación</span>\n                </div>\n                <div>\n                    <span>ID: {{idInformeCvPublicacion}}</span>\n                    <span style=\"margin: 0 8px; opacity: 0.5;\">•</span>\n                    <span class=\"footer-confidential\">CONFIDENCIAL</span>\n                </div>\n            </div>\n        </div>\n    </div>\n</body>\n</html>"},"property":"helpers","statusCode":400,"weak":true,"logged":true,"previousOperationId":"qitfdknpzdf3jwh","id":"yg1ugqngycmbkx9","stack":"Error: Missing helper: \"or\"\n    at Object.<anonymous> (/app/node_modules/handlebars/dist/cjs/handlebars/helpers/helper-missing.js:19:13)\n    at Object.wrapper (/app/node_modules/handlebars/dist/cjs/handlebars/internal/wrapHelper.js:15:19)\n    at Object.main (eval at compile (/app/node_modules/@jsreport/jsreport-handlebars/lib/handlebarsEngine.js:35:30), <anonymous>:514:139)\n    at main (/app/node_modules/handlebars/dist/cjs/handlebars/runtime.js:208:32)\n    at ret (/app/node_modules/handlebars/dist/cjs/handlebars/runtime.js:212:12)\n    at Object.execute (/app/node_modules/@jsreport/jsreport-handlebars/lib/handlebarsEngine.js:80:14)\n    at Object.execute (/app/node_modules/@jsreport/jsreport-handlebars/lib/worker.js:27:43)\n    at executionFn (/app/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:273:42)\n    at sandbox.js:13:18\n    at async run (/app/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/createSandbox.js:137:16)\nwrapped by:\nError: Error when evaluating engine handlebars for template /informes/informesSeleccion/informeSeleccionGRUPOMPLEO_Simple\n(because) missing helper: \"or\"\n    at module.exports (/app/node_modules/@jsreport/jsreport-core/lib/shared/createError.js:10:13)\n    at WorkerReporter.createError (/app/node_modules/@jsreport/jsreport-core/lib/shared/reporter.js:53:12)\n    at executeEngine (/app/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:377:35)\n    at async engine.engine (/app/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:162:14)\n    at async invokeRender (/app/node_modules/@jsreport/jsreport-core/lib/worker/render/render.js:61:23)\n    at async WorkerReporter._render (/app/node_modules/@jsreport/jsreport-core/lib/worker/render/render.js:148:7)\n    at async /app/node_modules/@jsreport/jsreport-core/lib/worker/reporter.js:233:24\n    at async processAndResponse (/app/node_modules/@jsreport/advanced-workers/lib/workerHandler.js:42:17)","message":"Error when evaluating engine handlebars for template /informes/informesSeleccion/informeSeleccionGRUPOMPLEO_Simple\n(because) missing helper: \"or\"\n\n(sandbox.js line 13:18)"}
